@tailwind base;
@tailwind components;
@tailwind utilities;

/* Dark mode syntax highlighting override */
@media (prefers-color-scheme: dark) {
  .hljs {
    background: rgba(0, 0, 0, 0.3) !important;
    color: #e6edf3 !important;
  }

  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-literal,
  .hljs-section,
  .hljs-link {
    color: #ff7b72 !important;
  }

  .hljs-string {
    color: #a5d6ff !important;
  }

  .hljs-title,
  .hljs-name,
  .hljs-type,
  .hljs-attribute,
  .hljs-symbol,
  .hljs-bullet,
  .hljs-built_in,
  .hljs-addition,
  .hljs-variable,
  .hljs-template-tag,
  .hljs-template-variable {
    color: #79c0ff !important;
  }

  .hljs-comment,
  .hljs-quote,
  .hljs-deletion,
  .hljs-meta {
    color: #8b949e !important;
  }

  .hljs-number {
    color: #79c0ff !important;
  }
}

/* Frost theme syntax highlighting */
.frost .hljs {
  background: rgba(4, 9, 17, 0.6) !important;
  color: rgba(224, 242, 255, 0.95) !important;
}
.frost .hljs-keyword,
.frost .hljs-selector-tag,
.frost .hljs-literal,
.frost .hljs-section,
.frost .hljs-link {
  color: #78eeff !important;
}
.frost .hljs-string {
  color: #96ffc7 !important;
}
.frost .hljs-title,
.frost .hljs-name,
.frost .hljs-type,
.frost .hljs-attribute,
.frost .hljs-symbol,
.frost .hljs-bullet,
.frost .hljs-built_in,
.frost .hljs-addition,
.frost .hljs-variable,
.frost .hljs-template-tag,
.frost .hljs-template-variable {
  color: #92eaff !important;
}
.frost .hljs-comment,
.frost .hljs-quote,
.frost .hljs-deletion,
.frost .hljs-meta {
  color: rgba(173, 211, 236, 0.55) !important;
}
.frost .hljs-number {
  color: #84ffd1 !important;
}

/* Custom scrollbar styles for agent progress */
@layer utilities {
  /* Hide scrollbar completely */
  .scrollbar-none {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thumb-gray-300 {
    scrollbar-color: rgb(209 213 219) transparent;
  }

  .dark .scrollbar-thumb-gray-600 {
    scrollbar-color: rgb(75 85 99) transparent;
  }

  .frost .scrollbar-thumb-gray-600 {
    scrollbar-color: rgba(118, 185, 0, 0.24) transparent;
  }

  /* Webkit scrollbar styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 3px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
  }

  .frost .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(8, 18, 8, 0.52);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(209, 213, 219, 0.8);
    border-radius: 3px;
    transition: background-color 0.2s ease;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(75, 85, 99, 0.8);
  }

  .frost .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(118, 185, 0, 0.24);
    border-radius: 999px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgba(156, 163, 175, 0.9);
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgba(107, 114, 128, 0.9);
  }

  .frost .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgba(166, 255, 98, 0.45);
  }

  .frost .scrollbar-thin::-webkit-scrollbar-thumb:active {
    background-color: rgba(166, 255, 98, 0.3);
  }

  /* Enhanced scrollbar for agent progress components */
  .scrollbar-thin::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* Scrollbar hidden until hover - for tile view */
  .scrollbar-hide-until-hover {
    scrollbar-width: none; /* Firefox: hide scrollbar by default */
  }

  .scrollbar-hide-until-hover::-webkit-scrollbar {
    width: 0; /* Webkit: hide scrollbar by default */
    background: transparent;
  }

  .scrollbar-hide-until-hover::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: transparent;
    border-radius: 3px;
  }

  /* Show scrollbar on hover of the parent tile */
  .group\/tile:hover .scrollbar-hide-until-hover {
    scrollbar-width: thin; /* Firefox: show thin scrollbar on hover */
  }

  .group\/tile:hover .scrollbar-hide-until-hover::-webkit-scrollbar {
    width: 6px; /* Webkit: expand scrollbar width on hover */
  }

  .group\/tile:hover .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(209, 213, 219, 0.8);
  }

  .dark
    .group\/tile:hover
    .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(75, 85, 99, 0.8);
  }

  .frost
    .group\/tile:hover
    .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(118, 185, 0, 0.24);
  }

  /* Also show scrollbar when focus is within the tile */
  .group\/tile:focus-within .scrollbar-hide-until-hover {
    scrollbar-width: thin;
  }

  .group\/tile:focus-within .scrollbar-hide-until-hover::-webkit-scrollbar {
    width: 6px;
  }

  .group\/tile:focus-within
    .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(209, 213, 219, 0.8);
  }

  .dark
    .group\/tile:focus-within
    .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(75, 85, 99, 0.8);
  }

  .frost
    .group\/tile:focus-within
    .scrollbar-hide-until-hover::-webkit-scrollbar-thumb {
    background-color: rgba(118, 185, 0, 0.24);
  }

  .frost-sidebar-spinner-frame {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: scale(1.449);
    border-radius: 9999px;
    overflow: hidden;
    border: 0.75px solid hsl(var(--ring) / 0.62);
    background: radial-gradient(
      118% 118% at 32% 24%,
      hsl(var(--ring) / 0.24) 0%,
      hsl(var(--primary) / 0.14) 34%,
      rgba(5, 11, 6, 0.94) 100%
    );
    box-shadow:
      0 0 0 1px hsl(var(--ring) / 0.16) inset,
      0 0 0 0.65px hsl(var(--ring) / 0.68),
      0 0 10px hsl(var(--ring) / 0.2),
      0 0 18px hsl(var(--primary) / 0.14),
      0 10px 24px rgba(6, 14, 8, 0.46);
  }

  .frost-sidebar-spinner-frame::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background:
      radial-gradient(
        95% 95% at 32% 24%,
        var(--frost-logo-overlay-strong) 0%,
        transparent 58%
      ),
      linear-gradient(
        140deg,
        transparent 18%,
        transparent 66%,
        var(--frost-logo-overlay) 100%
      );
    mix-blend-mode: screen;
    opacity: 0.84;
  }

  .frost-sidebar-spinner-logo {
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: 50% 50%;
    border-radius: 9999px;
    transform: scale(0.84);
    filter: var(--frost-logo-filter);
    transition:
      transform 220ms ease,
      filter 220ms ease;
  }

  .frost-sidebar-spinner-frame:hover .frost-sidebar-spinner-logo {
    transform: scale(0.88);
    filter: var(--frost-logo-filter-hover);
  }

  .frost .frost-gif-spinner-logo {
    filter: var(--frost-spinner-filter)
      drop-shadow(0 0 10px hsl(var(--primary) / 0.12));
  }

  .frost .frost-sidebar-footer-badge {
    border: 1px solid var(--frost-edge-green-line);
    border-radius: 9999px;
    background: linear-gradient(
      165deg,
      hsl(var(--ring) / 0.18) 0%,
      hsl(var(--primary) / 0.12) 58%,
      rgba(8, 15, 8, 0.86) 100%
    );
    color: var(--frost-fg);
    font-size: 11px;
    line-height: 1.1;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    padding: 3px 10px;
    box-shadow: 0 0 12px var(--frost-edge-green-glow-soft);
  }

  .frost .frost-sidebar-footer-version {
    color: hsl(var(--foreground) / 0.72);
    text-shadow: 0 0 8px hsl(var(--primary) / 0.2);
  }
}
@tailwind variants;

/* Modern Clean UI System - Replacing Liquid Glass */
@layer utilities {
  /* Base Panel Styling */
  .modern-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease-in-out;
  }

  .dark .modern-panel {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  .frost .modern-panel {
    background:
      var(--frost-sheen), var(--frost-panel-atmo), var(--frost-panel-grid),
      var(--frost-glass);
    border: 1px solid rgba(118, 185, 0, 0.58);
    box-shadow:
      0 6px 20px rgba(0, 0, 0, 0.56),
      inset 0 1px 0 rgba(255, 255, 255, 0.05),
      inset 0 0 0 1px rgba(166, 255, 0, 0.12);
    backdrop-filter: blur(10px) saturate(1.05);
  }

  .frost .modern-panel:hover,
  .frost .modern-panel:focus-within {
    border-color: rgba(166, 255, 0, 0.84);
    box-shadow:
      0 8px 22px rgba(0, 0, 0, 0.62),
      inset 0 1px 0 rgba(255, 255, 255, 0.07),
      inset 0 0 0 1px rgba(166, 255, 0, 0.16),
      0 0 18px rgba(166, 255, 0, 0.18);
  }

  /* Subtle Panel Variant */
  .modern-panel-subtle {
    background: hsl(var(--muted) / 0.5);
    border: 1px solid hsl(var(--border) / 0.5);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .dark .modern-panel-subtle {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }

  .frost .modern-panel-subtle {
    background:
      var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
      var(--frost-panel-grid-soft), rgba(8, 10, 11, 0.66);
    border: 1px solid rgba(118, 185, 0, 0.24);
    box-shadow:
      0 4px 14px rgba(0, 0, 0, 0.44),
      inset 0 1px 0 rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(8px) saturate(1.04);
  }

  /* Strong Panel Variant */
  .modern-panel-strong {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow:
      0 8px 24px rgba(0, 0, 0, 0.12),
      0 2px 6px rgba(0, 0, 0, 0.08);
  }

  .dark .modern-panel-strong {
    box-shadow:
      0 8px 24px rgba(0, 0, 0, 0.4),
      0 2px 6px rgba(0, 0, 0, 0.2);
  }

  .frost .modern-panel-strong {
    background:
      var(--frost-sheen), var(--frost-panel-atmo-strong),
      var(--frost-panel-grid), var(--frost-glass-strong);
    border: 1px solid rgba(118, 185, 0, 0.64);
    box-shadow:
      0 10px 32px rgba(0, 0, 0, 0.66),
      0 0 16px var(--frost-glow-1),
      inset 0 1px 0 rgba(255, 255, 255, 0.07),
      inset 0 0 0 1px rgba(166, 255, 0, 0.16);
    backdrop-filter: blur(12px) saturate(1.06);
  }

  /* Interactive Elements */
  .modern-interactive {
    background: hsl(var(--accent));
    border: 1px solid hsl(var(--border));
    transition: all 0.2s ease-in-out;
  }

  .modern-interactive:hover {
    background: hsl(var(--accent) / 0.8);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-1px);
  }

  .dark .modern-interactive:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .frost .modern-interactive {
    background: var(--frost-sheen-subtle), rgba(7, 16, 8, 0.58);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  .frost .modern-interactive:hover {
    background: var(--frost-sheen), rgba(11, 22, 10, 0.72);
    border-color: var(--frost-edge-green-line-strong);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 16px var(--frost-glow-1);
    transform: translateY(-1px);
  }

  .modern-interactive:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(var(--ring) / 0.2),
      0 0 0 4px hsl(var(--ring) / 0.1);
  }

  .modern-interactive:disabled {
    opacity: 0.55;
    cursor: not-allowed;
  }

  .frost .modern-interactive:focus-visible {
    outline: none;
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 0 0 1px var(--frost-edge-green-line) inset,
      0 0 0 2px rgba(166, 255, 0, 0.24),
      0 0 16px var(--frost-edge-green-glow-soft);
  }

  /* Button Styling */
  .modern-button {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    border: 1px solid hsl(var(--primary));
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease-in-out;
  }

  .modern-button:hover {
    background: hsl(var(--primary) / 0.9);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  .modern-button:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  .modern-button:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(var(--ring) / 0.22),
      0 0 0 4px hsl(var(--ring) / 0.12);
  }

  .modern-button:disabled {
    opacity: 0.55;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  .frost .modern-button {
    color: var(--frost-fg);
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.22);
    background:
      var(--frost-sheen),
      radial-gradient(
        110% 110% at 12% 0%,
        var(--frost-aurora-1),
        transparent 60%
      ),
      var(--frost-glass);
    border: 1px solid var(--frost-edge-green-line-strong);
    box-shadow:
      0 2px 10px rgba(0, 0, 0, 0.44),
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 0 0 1px rgba(166, 255, 0, 0.08);
    backdrop-filter: blur(10px) saturate(1.05);
  }

  .frost .modern-button:hover:not(:disabled) {
    background:
      var(--frost-sheen),
      radial-gradient(
        120% 120% at 88% 6%,
        var(--frost-aurora-2),
        transparent 62%
      ),
      rgba(12, 24, 11, 0.72);
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 6px 16px rgba(0, 0, 0, 0.54),
      inset 0 1px 0 rgba(255, 255, 255, 0.12),
      0 0 20px var(--frost-edge-green-glow);
    transform: translateY(-1px);
  }

  .frost .modern-button:active:not(:disabled) {
    transform: translateY(0);
    box-shadow:
      0 2px 10px rgba(0, 0, 0, 0.48),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 12px var(--frost-edge-green-glow-soft);
  }

  .frost .modern-button:focus-visible {
    outline: none;
    border-color: var(--frost-edge-strong);
    box-shadow:
      inset 0 0 0 1px var(--frost-edge-green-line-strong),
      0 0 0 2px rgba(166, 255, 0, 0.32),
      0 0 0 4px rgba(166, 255, 0, 0.1),
      0 0 20px var(--frost-edge-green-glow);
  }

  /* Shine Effect for Interactive Elements */
  .modern-shine {
    position: relative;
    overflow: hidden;
  }

  .modern-shine::after {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transition: left 0.5s ease-in-out;
    pointer-events: none;
  }

  .modern-shine:hover::after {
    left: 100%;
  }

  /* Input Styling */
  .modern-input {
    background: hsl(var(--background));
    border: 1px solid hsl(var(--input));
    transition: all 0.2s ease-in-out;
  }

  .modern-input:focus {
    border-color: hsl(var(--ring));
    box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
  }

  .modern-input:focus-visible {
    border-color: hsl(var(--ring));
    box-shadow: 0 0 0 2px hsl(var(--ring) / 0.22);
    outline: none;
  }

  .frost .modern-input {
    background: var(--frost-sheen-subtle), rgba(6, 14, 7, 0.62);
    border: 1px solid var(--frost-edge-green-line);
    color: var(--frost-fg);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.06),
      inset 0 0 0 1px rgba(166, 255, 0, 0.05);
    backdrop-filter: blur(10px) saturate(1.05);
  }

  .frost .modern-input::placeholder {
    color: rgba(176, 204, 164, 0.7);
  }

  .frost .modern-input:hover:not(:focus) {
    border-color: var(--frost-edge-green-line-strong);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.07),
      inset 0 0 0 1px rgba(166, 255, 0, 0.06),
      0 0 14px rgba(118, 185, 0, 0.08);
  }

  .frost .modern-input:focus {
    border-color: var(--frost-edge-strong);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 0 2px rgba(166, 255, 0, 0.24),
      0 0 16px var(--frost-edge-green-glow-soft);
  }

  .frost .modern-input:focus-visible {
    border-color: var(--frost-edge-strong);
    box-shadow:
      inset 0 0 0 1px var(--frost-edge-green-line-strong),
      0 0 0 2px rgba(166, 255, 0, 0.32),
      0 0 0 4px rgba(166, 255, 0, 0.1),
      0 0 18px var(--frost-edge-green-glow-soft);
    outline: none;
  }

  /* Card Styling */
  .modern-card {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .dark .modern-card {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
  }

  .frost .modern-card {
    background:
      var(--frost-sheen-subtle),
      radial-gradient(
        130% 130% at 12% 0%,
        var(--frost-aurora-3),
        transparent 62%
      ),
      var(--frost-glass);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow:
      0 2px 12px rgba(0, 0, 0, 0.36),
      inset 0 1px 0 rgba(255, 255, 255, 0.06),
      inset 0 0 0 1px rgba(166, 255, 0, 0.06);
    backdrop-filter: blur(8px) saturate(1.04);
  }

  .frost .modern-card:hover,
  .frost .modern-card:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 4px 14px rgba(0, 0, 0, 0.44),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      inset 0 0 0 1px rgba(166, 255, 0, 0.1),
      0 0 16px var(--frost-edge-green-glow-soft);
  }

  /* Navigation Styling */
  .modern-nav {
    background: hsl(var(--background) / 0.95);
    border: 1px solid hsl(var(--border));
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  }

  .dark .modern-nav {
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  }

  .frost .modern-nav {
    background:
      var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
      var(--frost-panel-grid-soft), rgba(9, 11, 15, 0.92);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow:
      0 2px 16px rgba(0, 0, 0, 0.42),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(12px) saturate(1.05);
  }

  .frost .modern-nav:hover,
  .frost .modern-nav:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 3px 18px rgba(0, 0, 0, 0.48),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 16px var(--frost-edge-green-glow-soft);
  }

  /* Text Styling Utilities */
  .modern-text-strong {
    color: hsl(var(--foreground));
    font-weight: 500;
  }

  .modern-text-muted {
    color: hsl(var(--muted-foreground));
  }

  /* Floating Panel Utilities - Enhanced for proper theme support */
  .floating-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-radius: 1rem;
    box-shadow:
      0 10px 38px -10px rgba(22, 23, 24, 0.35),
      0 10px 20px -15px rgba(22, 23, 24, 0.2);
    backdrop-filter: blur(8px);
    overflow: hidden;
    transition: all 0.2s ease-in-out;
  }

  .dark .floating-panel {
    box-shadow:
      0 10px 38px -10px rgba(0, 0, 0, 0.5),
      0 10px 20px -15px rgba(0, 0, 0, 0.3);
  }

  .frost .floating-panel {
    background:
      var(--frost-sheen), var(--frost-panel-atmo-strong),
      var(--frost-panel-grid), var(--frost-glass-strong);
    border: 1px solid var(--frost-edge-1);
    box-shadow:
      0 12px 44px -10px rgba(0, 0, 0, 0.58),
      0 0 24px var(--frost-glow-2),
      0 0 34px rgba(118, 185, 0, 0.05);
    backdrop-filter: blur(12px) saturate(1.05);
  }

  .frost .floating-panel:hover,
  .frost .floating-panel:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 14px 48px -10px rgba(0, 0, 0, 0.62),
      0 0 28px var(--frost-glow-2),
      0 0 40px rgba(118, 185, 0, 0.08);
  }

  /* Floating Panel Variants */
  .floating-panel-glass {
    background: hsl(var(--card) / 0.95);
    border: 1px solid hsl(var(--border) / 0.8);
    border-radius: 1rem;
    box-shadow:
      0 10px 38px -10px rgba(22, 23, 24, 0.35),
      0 10px 20px -15px rgba(22, 23, 24, 0.2);
    backdrop-filter: blur(12px);
  }

  .dark .floating-panel-glass {
    background: hsl(var(--card) / 0.9);
    box-shadow:
      0 10px 38px -10px rgba(0, 0, 0, 0.5),
      0 10px 20px -15px rgba(0, 0, 0, 0.3);
  }

  .frost .floating-panel-glass {
    background:
      var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
      var(--frost-panel-grid-soft), rgba(11, 10, 27, 0.9);
    border: 1px solid var(--frost-edge-1);
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.55),
      0 0 20px var(--frost-glow-1);
    backdrop-filter: blur(14px) saturate(1.05);
  }

  /* Voice Input Panel Specific */
  .voice-input-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .dark .voice-input-panel {
    box-shadow:
      0 20px 25px -5px rgba(0, 0, 0, 0.4),
      0 10px 10px -5px rgba(0, 0, 0, 0.2);
  }

  .frost .voice-input-panel {
    background:
      var(--frost-sheen), var(--frost-panel-atmo-strong),
      var(--frost-panel-grid), var(--frost-glass-strong);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow:
      0 20px 30px -5px rgba(0, 0, 0, 0.52),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      inset 0 0 0 1px rgba(166, 255, 0, 0.08),
      0 0 14px var(--frost-edge-green-glow-soft);
    backdrop-filter: blur(10px) saturate(1.05);
    transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease,
      background 0.2s ease;
  }

  .frost .voice-input-panel:hover,
  .frost .voice-input-panel:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 22px 34px -6px rgba(0, 0, 0, 0.56),
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 0 0 1px rgba(166, 255, 0, 0.1),
      0 0 18px var(--frost-edge-green-glow),
      0 0 26px rgba(118, 185, 0, 0.08);
  }

  /* Text Input Panel Specific */
  .text-input-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .dark .text-input-panel {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  .frost .text-input-panel {
    background:
      var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
      var(--frost-panel-grid-soft), var(--frost-glass);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow:
      0 5px 12px -1px rgba(0, 0, 0, 0.42),
      inset 0 1px 0 rgba(255, 255, 255, 0.06),
      0 0 16px var(--frost-edge-green-glow),
      0 0 24px rgba(118, 185, 0, 0.06);
    backdrop-filter: blur(8px) saturate(1.04);
    transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease,
      background 0.2s ease;
  }

  .frost .text-input-panel:hover,
  .frost .text-input-panel:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 7px 16px -2px rgba(0, 0, 0, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 20px var(--frost-edge-green-glow),
      0 0 30px rgba(118, 185, 0, 0.08);
  }

  /* Progress Panel Specific */
  .progress-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  .dark .progress-panel {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.4),
      0 4px 6px -2px rgba(0, 0, 0, 0.2);
  }

  .frost .progress-panel {
    background:
      var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
      var(--frost-panel-grid-soft), var(--frost-glass);
    border: 1px solid var(--frost-edge-green-line);
    box-shadow:
      0 10px 18px -3px rgba(0, 0, 0, 0.46),
      inset 0 1px 0 rgba(255, 255, 255, 0.06),
      0 0 10px var(--frost-edge-green-glow-soft);
    backdrop-filter: blur(10px) saturate(1.05);
    transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease,
      background 0.2s ease;
  }

  .frost .progress-panel:hover,
  .frost .progress-panel:focus-within {
    border-color: var(--frost-edge-strong);
    box-shadow:
      0 12px 22px -4px rgba(0, 0, 0, 0.52),
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 0 14px var(--frost-edge-green-glow-soft);
  }

  /* Recording waveform bars */
  .panel-waveform-bar {
    box-shadow:
      0 1px 2px rgba(15, 23, 42, 0.24),
      0 0 6px rgba(118, 185, 0, 0.2);
  }

  .dark .panel-waveform-bar {
    box-shadow:
      0 1px 2px rgba(2, 6, 23, 0.42),
      0 0 8px rgba(166, 255, 98, 0.3);
  }

  .panel-waveform-bar-idle {
    background: rgba(100, 116, 139, 0.46);
    box-shadow: 0 1px 1px rgba(15, 23, 42, 0.16);
  }

  .dark .panel-waveform-bar-idle {
    background: rgba(148, 163, 184, 0.4);
    box-shadow: 0 1px 1px rgba(2, 6, 23, 0.34);
  }

  .frost .panel-waveform-bar {
    background: rgba(166, 255, 98, 0.86);
    box-shadow:
      0 1px 2px rgba(4, 9, 17, 0.55),
      0 0 8px rgba(166, 255, 98, 0.32),
      0 0 14px rgba(118, 185, 0, 0.18);
  }

  .frost .panel-waveform-bar-idle {
    background: rgba(176, 204, 164, 0.45);
    box-shadow: 0 1px 2px rgba(4, 9, 17, 0.42);
  }

  /* Frost-only sessions and sidebar grid surfaces */
  .frost .sessions-page-shell {
    position: relative;
    isolation: isolate;
  }

  .frost .sessions-page-shell::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 0.75rem;
    pointer-events: none;
    background:
      radial-gradient(
        130% 126% at 50% 50%,
        transparent 62%,
        rgba(2, 12, 20, 0.2) 100%
      ),
      var(--frost-panel-atmo-soft), var(--frost-sessions-grid-soft);
    opacity: 0.2;
    z-index: 0;
  }

  .frost .sessions-page-shell::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 0.75rem;
    pointer-events: none;
    background-image:
      radial-gradient(
        circle at 18% 22%,
        rgba(228, 252, 255, 0.34) 0 0.7px,
        transparent 1.9px
      ),
      radial-gradient(
        circle at 74% 16%,
        rgba(198, 238, 247, 0.28) 0 0.6px,
        transparent 1.7px
      ),
      radial-gradient(
        circle at 62% 68%,
        rgba(228, 252, 255, 0.32) 0 0.65px,
        transparent 1.8px
      ),
      radial-gradient(
        circle at 28% 78%,
        rgba(198, 238, 247, 0.24) 0 0.55px,
        transparent 1.6px
      );
    opacity: 0.22;
    mix-blend-mode: screen;
    animation: frost-grid-sparkle-twinkle 11s ease-in-out infinite;
    z-index: 0;
  }

  .frost .sessions-page-shell > * {
    position: relative;
    z-index: 1;
  }

  .frost .sessions-page-header {
    background:
      var(--frost-panel-atmo-soft), var(--frost-sessions-grid-soft),
      rgba(9, 22, 38, 0.34);
    border-bottom-color: rgba(129, 227, 244, 0.2);
  }

  .frost .settings-page-shell {
    position: relative;
    isolation: isolate;
    background:
      var(--frost-sheen),
      radial-gradient(
        148% 132% at 50% 52%,
        rgba(0, 0, 0, 0.68) 0%,
        rgba(0, 0, 0, 0.48) 42%,
        transparent 76%
      ),
      radial-gradient(
        136% 118% at -12% 54%,
        rgba(118, 185, 0, 0.2) 0%,
        transparent 62%
      ),
      radial-gradient(
        136% 118% at 112% 46%,
        rgba(166, 255, 0, 0.18) 0%,
        transparent 64%
      ),
      radial-gradient(
        128% 112% at 50% -22%,
        rgba(118, 185, 0, 0.08) 0%,
        transparent 70%
      ),
      var(--frost-panel-atmo), var(--frost-settings-grid), var(--frost-glass);
  }

  .frost .settings-page-shell::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background:
      radial-gradient(
        126% 114% at -8% 56%,
        rgba(118, 185, 0, 0.18) 0%,
        transparent 66%
      ),
      radial-gradient(
        126% 114% at 108% 44%,
        rgba(166, 255, 0, 0.16) 0%,
        transparent 68%
      ),
      radial-gradient(
        146% 122% at 50% 52%,
        transparent 56%,
        rgba(0, 0, 0, 0.28) 100%
      );
    opacity: 0.46;
    z-index: 0;
  }

  .frost .settings-main-lane-tuning {
    --ncc-main-lane-pulse-length: 604px;
    --ncc-main-lane-pulse-thickness: 0.7px;
    --ncc-main-lane-head-size: 4px;
    --ncc-main-lane-opacity: 0.3;
    --ncc-main-lane-intensity: 0.96;
    --ncc-main-lane-glow-strength: 0.78;
    --ncc-main-lane-travel-padding: 320px;
  }

  .settings-page-energy-overlay {
    display: none;
  }

  .frost .settings-page-energy-overlay {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    overflow: hidden;
    display: block;
    z-index: 0;
    mix-blend-mode: screen;
    opacity: var(--ncc-main-lane-opacity, 0.3);
  }

  .frost .settings-page-energy-pulse {
    position: absolute;
    pointer-events: none;
    filter: drop-shadow(
        0 0 calc(6px * var(--ncc-main-lane-glow-strength, 0.86))
          rgba(
            118,
            185,
            0,
            calc(0.52 * var(--ncc-main-lane-glow-strength, 0.86))
          )
      )
      drop-shadow(
        0 0 calc(14px * var(--ncc-main-lane-glow-strength, 0.86))
          rgba(
            166,
            255,
            0,
            calc(0.2 * var(--ncc-main-lane-glow-strength, 0.86))
          )
      );
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    will-change: left, top;
  }

  .frost .settings-page-energy-pulse-line {
    position: absolute;
    inset: 0;
    border-radius: 999px;
  }

  .frost .settings-page-energy-pulse-dot {
    position: absolute;
    width: var(--ncc-main-lane-head-size, 14px);
    height: var(--ncc-main-lane-head-size, 14px);
    border-radius: 999px;
    background: radial-gradient(
      circle,
      rgba(236, 249, 214, calc(1 * var(--ncc-main-lane-intensity, 0.9))) 0%,
      rgba(212, 246, 141, calc(0.98 * var(--ncc-main-lane-intensity, 0.9))) 24%,
      rgba(166, 255, 0, calc(0.72 * var(--ncc-main-lane-intensity, 0.9))) 48%,
      rgba(118, 185, 0, calc(0.16 * var(--ncc-main-lane-intensity, 0.9))) 70%,
      rgba(118, 185, 0, 0) 100%
    );
  }

  .frost .settings-page-energy-pulse-x {
    width: var(--ncc-main-lane-pulse-length, 204px);
    height: max(1px, var(--ncc-main-lane-pulse-thickness, 3px));
    animation-name: frost-settings-energy-travel-x;
  }

  .frost
    .settings-page-energy-pulse-x.settings-page-energy-pulse-forward
    .settings-page-energy-pulse-line {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(118, 185, 0, 0) 32%,
      rgba(118, 185, 0, calc(0.16 * var(--ncc-main-lane-intensity, 0.9))) 54%,
      rgba(118, 185, 0, calc(0.34 * var(--ncc-main-lane-intensity, 0.9))) 72%,
      rgba(166, 255, 0, calc(0.68 * var(--ncc-main-lane-intensity, 0.9))) 88%,
      rgba(236, 249, 214, calc(0.92 * var(--ncc-main-lane-intensity, 0.9))) 100%
    );
  }

  .frost
    .settings-page-energy-pulse-x.settings-page-energy-pulse-forward
    .settings-page-energy-pulse-dot {
    left: 100%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  .frost
    .settings-page-energy-pulse-x.settings-page-energy-pulse-reverse
    .settings-page-energy-pulse-line {
    background: linear-gradient(
      90deg,
      rgba(236, 249, 214, calc(0.92 * var(--ncc-main-lane-intensity, 0.9))) 0%,
      rgba(166, 255, 0, calc(0.68 * var(--ncc-main-lane-intensity, 0.9))) 12%,
      rgba(118, 185, 0, calc(0.34 * var(--ncc-main-lane-intensity, 0.9))) 26%,
      rgba(118, 185, 0, calc(0.16 * var(--ncc-main-lane-intensity, 0.9))) 44%,
      rgba(118, 185, 0, 0) 68%,
      transparent 100%
    );
  }

  .frost
    .settings-page-energy-pulse-x.settings-page-energy-pulse-reverse
    .settings-page-energy-pulse-dot {
    left: 0%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  .frost .settings-page-energy-pulse-y {
    width: max(1px, var(--ncc-main-lane-pulse-thickness, 3px));
    height: var(--ncc-main-lane-pulse-length, 204px);
    animation-name: frost-settings-energy-travel-y;
  }

  .frost
    .settings-page-energy-pulse-y.settings-page-energy-pulse-forward
    .settings-page-energy-pulse-line {
    background: linear-gradient(
      180deg,
      transparent 0%,
      rgba(118, 185, 0, 0) 32%,
      rgba(118, 185, 0, calc(0.16 * var(--ncc-main-lane-intensity, 0.9))) 54%,
      rgba(118, 185, 0, calc(0.34 * var(--ncc-main-lane-intensity, 0.9))) 72%,
      rgba(166, 255, 0, calc(0.68 * var(--ncc-main-lane-intensity, 0.9))) 88%,
      rgba(236, 249, 214, calc(0.92 * var(--ncc-main-lane-intensity, 0.9))) 100%
    );
  }

  .frost
    .settings-page-energy-pulse-y.settings-page-energy-pulse-forward
    .settings-page-energy-pulse-dot {
    left: 50%;
    top: 100%;
    transform: translate(-50%, -50%);
  }

  .frost
    .settings-page-energy-pulse-y.settings-page-energy-pulse-reverse
    .settings-page-energy-pulse-line {
    background: linear-gradient(
      180deg,
      rgba(236, 249, 214, calc(0.92 * var(--ncc-main-lane-intensity, 0.9))) 0%,
      rgba(166, 255, 0, calc(0.68 * var(--ncc-main-lane-intensity, 0.9))) 12%,
      rgba(118, 185, 0, calc(0.34 * var(--ncc-main-lane-intensity, 0.9))) 26%,
      rgba(118, 185, 0, calc(0.16 * var(--ncc-main-lane-intensity, 0.9))) 44%,
      rgba(118, 185, 0, 0) 68%,
      transparent 100%
    );
  }

  .frost
    .settings-page-energy-pulse-y.settings-page-energy-pulse-reverse
    .settings-page-energy-pulse-dot {
    left: 50%;
    top: 0%;
    transform: translate(-50%, -50%);
  }

  .frost .settings-page-energy-pulse-track-h1 {
    top: 122px;
    animation-duration: 28s;
    animation-delay: -4s;
    --frost-energy-start-x: calc(
      var(--ncc-main-lane-travel-padding, 320px) * -1
    );
    --frost-energy-end-x: calc(
      100% + var(--ncc-main-lane-travel-padding, 320px)
    );
  }

  .frost .settings-page-energy-pulse-track-h2 {
    top: 366px;
    animation-duration: 34s;
    animation-delay: -14s;
    --frost-energy-start-x: calc(
      100% + var(--ncc-main-lane-travel-padding, 320px)
    );
    --frost-energy-end-x: calc(var(--ncc-main-lane-travel-padding, 320px) * -1);
  }

  .frost .settings-page-energy-pulse-track-v1 {
    left: 244px;
    animation-duration: 30s;
    animation-delay: -9s;
    --frost-energy-start-y: calc(
      var(--ncc-main-lane-travel-padding, 320px) * -1
    );
    --frost-energy-end-y: calc(
      100% + var(--ncc-main-lane-travel-padding, 320px)
    );
  }

  .frost .settings-page-energy-pulse-track-v2 {
    left: 610px;
    animation-duration: 36s;
    animation-delay: -2s;
    --frost-energy-start-y: calc(
      100% + var(--ncc-main-lane-travel-padding, 320px)
    );
    --frost-energy-end-y: calc(var(--ncc-main-lane-travel-padding, 320px) * -1);
  }

  .frost .settings-page-shell::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background-image:
      radial-gradient(
        circle at 16% 20%,
        rgba(228, 252, 255, 0.34) 0 0.7px,
        transparent 1.9px
      ),
      radial-gradient(
        circle at 68% 14%,
        rgba(198, 238, 247, 0.28) 0 0.6px,
        transparent 1.7px
      ),
      radial-gradient(
        circle at 82% 56%,
        rgba(228, 252, 255, 0.3) 0 0.65px,
        transparent 1.8px
      ),
      radial-gradient(
        circle at 38% 74%,
        rgba(198, 238, 247, 0.24) 0 0.55px,
        transparent 1.6px
      ),
      radial-gradient(
        circle at 12% 82%,
        rgba(228, 252, 255, 0.28) 0 0.6px,
        transparent 1.7px
      );
    opacity: 0.24;
    mix-blend-mode: screen;
    animation: frost-grid-sparkle-twinkle 10s ease-in-out infinite;
    z-index: 0;
  }

  .frost .settings-page-shell > :not(.settings-page-energy-overlay) {
    position: relative;
    z-index: 1;
  }

  .frost .active-agents-sidebar-root {
    position: relative;
    isolation: isolate;
  }

  .frost .active-agents-sidebar-root::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 0.75rem;
    pointer-events: none;
    background: var(--frost-panel-atmo-soft), var(--frost-panel-grid-soft);
    opacity: 0.16;
    z-index: 0;
  }

  .frost .active-agents-sidebar-root > * {
    position: relative;
    z-index: 1;
  }

  .frost .active-agents-sidebar-header,
  .frost .active-agents-sidebar-past-header {
    background:
      var(--frost-panel-atmo-soft), var(--frost-panel-grid-soft),
      rgba(7, 18, 30, 0.28);
    box-shadow: inset 0 0 0 1px rgba(129, 227, 244, 0.14);
  }

  /* Border Utilities */
  .modern-border {
    border: 1px solid hsl(var(--border));
  }

  .modern-border-subtle {
    border: 1px solid hsl(var(--border) / 0.5);
  }

  .frost-edge-glow {
    position: relative;
  }

  .frost .frost-edge-glow::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    box-shadow:
      inset 0 0 0 1px var(--frost-edge-green-line),
      0 0 14px var(--frost-edge-green-glow-soft);
    opacity: 0.78;
    transition:
      box-shadow 0.22s ease,
      opacity 0.22s ease;
  }

  .frost .frost-edge-glow:hover::after,
  .frost .frost-edge-glow:focus-within::after {
    box-shadow:
      inset 0 0 0 1px var(--frost-edge-green-line-strong),
      0 0 20px var(--frost-edge-green-glow);
    opacity: 0.96;
  }
}

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 3.9%;
  --primary: 0 0% 9%;
  --primary-foreground: 0 0% 98%;
  --secondary: 0 0% 96.1%;
  --secondary-foreground: 0 0% 9%;
  --muted: 0 0% 96.1%;
  --muted-foreground: 0 0% 45.1%;
  --accent: 0 0% 96.1%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 95%;
  --input: 0 0% 89.8%;
  --ring: 217 91% 60%;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
  --radius: 0.5rem;
}

.dark {
  --background: 0 0% 0%;
  --foreground: 0 0% 99%;
  --card: 0 0% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 0 0% 9%;
  --secondary: 0 0% 14.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 14.9%;
  --muted-foreground: 0 0% 63.9%;
  --accent: 0 0% 14.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 14.9%;
  --input: 0 0% 14.9%;
  --ring: 221 83% 53%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

/* ================================================================
   FROST THEME — Sci-fi HUD aesthetic from Live Desktop
   ================================================================ */
.frost {
  /* Core palette — deep-space backgrounds */
  --background: 114 12% 4%; /* deep noir green-black */
  --foreground: 102 26% 92%; /* pale green-white text */
  --card: 114 14% 7%; /* panel bg */
  --card-foreground: 102 20% 90%;
  --popover: 114 12% 6%;
  --popover-foreground: 102 20% 90%;

  /* Primary — muted NVIDIA-green accent */
  --primary: 102 76% 40%;
  --primary-foreground: 118 26% 8%;

  --secondary: 112 14% 13%;
  --secondary-foreground: 102 18% 90%;

  --muted: 112 13% 12%;
  --muted-foreground: 103 12% 66%;

  --accent: 112 15% 11%;
  --accent-foreground: 102 18% 90%;

  /* Destructive — LD fail red */
  --destructive: 0 100% 65%;
  --destructive-foreground: 206 80% 92%;

  /* Borders & inputs */
  --border: 108 14% 20%;
  --input: 108 13% 15%;
  --ring: 102 78% 50%;

  /* Charts — green-forward sci-fi palette */
  --chart-1: 102 74% 46%;
  --chart-2: 128 46% 48%;
  --chart-3: 147 38% 43%;
  --chart-4: 37 100% 70%;
  --chart-5: 0 100% 72%;

  /* Frost-specific tokens (used by frost utility classes) */
  --frost-bg-0: #070908;
  --frost-bg-1: #0b100c;
  --frost-bg-2: #0a0e0b;
  --frost-fg: rgba(222, 244, 215, 0.94);
  --frost-muted: rgba(176, 204, 164, 0.74);
  --frost-glass: rgba(8, 11, 9, 0.74);
  --frost-glass-strong: rgba(5, 8, 6, 0.84);

  /* Accents & status */
  --frost-line: rgba(166, 255, 0, 0.2);
  --frost-line-strong: rgba(193, 255, 98, 0.28);
  --frost-ok: rgba(186, 255, 132, 0.95);
  --frost-warn: rgba(255, 208, 133, 0.95);
  --frost-fail: rgba(255, 128, 128, 0.96);

  /* Edges & glow */
  --frost-edge-1: rgba(118, 185, 0, 0.58);
  --frost-edge-2: rgba(166, 255, 0, 0.26);
  --frost-edge-strong: rgba(166, 255, 0, 0.86);
  --frost-glow-1: rgba(118, 185, 0, 0.14);
  --frost-glow-2: rgba(166, 255, 0, 0.16);
  --frost-edge-green-line: rgba(118, 185, 0, 0.26);
  --frost-edge-green-line-strong: rgba(166, 255, 0, 0.38);
  --frost-edge-green-glow: rgba(166, 255, 0, 0.2);
  --frost-edge-green-glow-soft: rgba(118, 185, 0, 0.08);
  --frost-logo-filter: hue-rotate(-32deg) saturate(0.84) contrast(1.02)
    brightness(0.9);
  --frost-logo-filter-hover: hue-rotate(-28deg) saturate(0.9) contrast(1.04)
    brightness(0.94);
  --frost-spinner-filter: hue-rotate(-26deg) saturate(0.8) contrast(1)
    brightness(0.94);
  --frost-logo-overlay: hsl(var(--primary) / 0.18);
  --frost-logo-overlay-strong: hsl(var(--ring) / 0.22);

  /* Subtle highlights (borrowed touch from Frost-Glass dark) */
  --frost-highlight: rgba(255, 255, 255, 0.08);
  --frost-highlight-strong: rgba(255, 255, 255, 0.12);
  --frost-aurora-1: rgba(166, 255, 0, 0.08);
  --frost-aurora-2: rgba(118, 185, 0, 0.09);
  --frost-aurora-3: rgba(171, 227, 125, 0.06);
  --frost-atmo-shadow-1: rgba(18, 45, 24, 0.12);
  --frost-atmo-shadow-2: rgba(4, 20, 8, 0.26);
  --frost-ambient-noir-1: rgba(78, 116, 92, 0.08);
  --frost-ambient-noir-2: rgba(146, 214, 126, 0.04);
  --frost-ambient-noir-3: rgba(64, 92, 44, 0.08);
  --frost-ambient-noir-4: rgba(78, 122, 40, 0.05);
  --frost-ambient-glow-1: rgba(166, 255, 0, 0.032);
  --frost-ambient-glow-2: rgba(118, 185, 0, 0.016);
  --frost-noir-film: linear-gradient(
    160deg,
    rgba(3, 9, 18, 0.74) 0%,
    rgba(5, 14, 28, 0.54) 44%,
    rgba(3, 8, 16, 0.8) 100%
  );
  --frost-sheen: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08),
    rgba(255, 255, 255, 0.02) 42%,
    transparent 70%
  );
  --frost-sheen-subtle: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.02),
    transparent 60%
  );
  --frost-border-grad: linear-gradient(
    135deg,
    rgba(166, 255, 0, 0.64),
    rgba(118, 185, 0, 0.24)
  );
  --frost-divider-gradient: linear-gradient(
    30deg,
    rgba(118, 185, 0, 0.44) 0%,
    rgba(166, 255, 0, 0.32) 50%,
    rgba(118, 185, 0, 0.4) 100%
  );
  --frost-atmo-base: linear-gradient(
    165deg,
    rgba(9, 11, 15, 0.94) 0%,
    rgba(11, 10, 27, 0.92) 48%,
    rgba(24, 24, 27, 0.94) 100%
  );
  --frost-atmo-soft:
    radial-gradient(
      126% 86% at -10% 24%,
      rgba(118, 185, 0, 0.02) 0%,
      transparent 68%
    ),
    radial-gradient(
      126% 86% at 110% 16%,
      rgba(166, 255, 0, 0.03) 0%,
      transparent 69%
    ),
    radial-gradient(
      136% 94% at 50% 120%,
      rgba(10, 14, 12, 0.3) 0%,
      transparent 76%
    ),
    radial-gradient(
      142% 118% at 50% 52%,
      rgba(0, 0, 0, 0.38) 0%,
      rgba(0, 0, 0, 0.28) 38%,
      transparent 72%
    );
  --frost-panel-atmo: linear-gradient(
    155deg,
    rgba(20, 24, 22, 0.3) 0%,
    rgba(14, 20, 16, 0.22) 52%,
    rgba(4, 6, 5, 0.42) 100%
  );
  --frost-panel-atmo-soft: linear-gradient(
    155deg,
    rgba(20, 24, 22, 0.22) 0%,
    rgba(14, 20, 16, 0.14) 52%,
    rgba(4, 6, 5, 0.3) 100%
  );
  --frost-panel-atmo-strong: linear-gradient(
    155deg,
    rgba(20, 24, 22, 0.9) 0%,
    rgba(14, 20, 16, 0.3) 52%,
    rgba(4, 6, 5, 0.5) 100%
  );

  /* Scan overlays */
  --frost-scan-line: rgba(166, 255, 0, 0.08);
  --frost-scan-grid: rgba(166, 255, 0, 0.03);
  --frost-grid: rgba(166, 255, 0, 0.14);
  --frost-grid-subtle: rgba(118, 185, 0, 0.062);
  --frost-grid-fine: rgba(166, 255, 0, 0.028);
  --frost-panel-grid:
    repeating-linear-gradient(
      0deg,
      transparent 0 36px,
      rgba(118, 185, 0, 0.032) 36px 37px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 36px,
      rgba(118, 185, 0, 0.032) 36px 37px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0 16px,
      rgba(166, 255, 0, 0.014) 16px 17px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 16px,
      rgba(166, 255, 0, 0.014) 16px 17px
    );
  --frost-panel-grid-soft:
    repeating-linear-gradient(
      0deg,
      transparent 0 40px,
      rgba(118, 185, 0, 0.022) 40px 41px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 40px,
      rgba(118, 185, 0, 0.022) 40px 41px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0 18px,
      rgba(166, 255, 0, 0.01) 18px 19px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 18px,
      rgba(166, 255, 0, 0.01) 18px 19px
    );
  --frost-sessions-grid-soft:
    repeating-linear-gradient(
      0deg,
      transparent 0 40px,
      rgba(118, 185, 0, 0.028) 40px 41px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 40px,
      rgba(118, 185, 0, 0.028) 40px 41px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0 18px,
      rgba(166, 255, 0, 0.012) 18px 19px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 18px,
      rgba(166, 255, 0, 0.012) 18px 19px
    );
  --frost-settings-grid:
    repeating-linear-gradient(
      0deg,
      transparent 0 61px,
      rgba(118, 185, 0, 0.096) 61px 62px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 61px,
      rgba(118, 185, 0, 0.096) 61px 62px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0 27px,
      rgba(166, 255, 0, 0.072) 27px 28px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0 27px,
      rgba(166, 255, 0, 0.072) 27px 28px
    );

  /* Framing */
  --frost-header-bg: linear-gradient(
    180deg,
    rgba(20, 40, 14, 0.24) 0%,
    rgba(18, 34, 14, 0.9) 18%,
    rgba(8, 20, 8, 0.86) 100%
  );
  --frost-header-border: rgba(166, 255, 98, 0.18);
  --frost-frame-bg: linear-gradient(
    165deg,
    rgba(18, 28, 12, 0.2) 0%,
    rgba(12, 24, 10, 0.9) 35%,
    rgba(6, 14, 7, 0.92) 100%
  );
  --frost-inner: rgba(166, 255, 98, 0.2);
}

* {
  @apply border-border select-none;
}
body {
  @apply text-foreground antialiased;
}
html {
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

html.frost {
  color-scheme: dark;
}

html,
body {
  @apply bg-transparent;
}

.app-drag-region {
  -webkit-app-region: drag;
}

.app-no-drag-region {
  -webkit-app-region: no-drag;
}

button,
a[role="button"] {
  @apply cursor-default;
}

button,
a,
input,
textarea,
select {
  -webkit-app-region: no-drag;
}

/* Line clamp utilities */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

/* ================================================================
   FROST THEME — Atmosphere & Effects
   Only active when .frost is on <html>
   ================================================================ */

/* Body background: dark layered atmosphere without harsh spotlighting */
html.frost body {
  background:
    var(--frost-atmo-soft), var(--frost-noir-film), var(--frost-atmo-base);
}

/* Subtle grid overlay (LD-style, on root element) */
html.frost::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background-image:
    linear-gradient(var(--frost-grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--frost-grid) 1px, transparent 1px),
    linear-gradient(var(--frost-grid-subtle) 1px, transparent 1px),
    linear-gradient(90deg, var(--frost-grid-subtle) 1px, transparent 1px),
    repeating-radial-gradient(
      circle at 50% 50%,
      rgba(166, 255, 0, 0) 0 74px,
      rgba(166, 255, 0, 0.08) 74px 75px,
      rgba(166, 255, 0, 0) 75px 148px
    ),
    conic-gradient(
      from 0deg at 50% 50%,
      transparent 0deg 54deg,
      rgba(193, 255, 98, 0.24) 78deg 94deg,
      transparent 122deg 236deg,
      rgba(166, 255, 0, 0.2) 262deg 278deg,
      transparent 306deg 360deg
    );
  background-size:
    92px 92px,
    92px 92px,
    24px 24px,
    24px 24px,
    100% 100%,
    100% 100%;
  background-repeat: repeat, repeat, repeat, repeat, no-repeat, no-repeat;
  background-position:
    0 0,
    0 0,
    0 0,
    0 0,
    50% 50%,
    50% 50%;
  opacity: 0.3;
  mix-blend-mode: screen;
  transform-origin: 50% 50%;
  will-change: transform, filter;
  animation:
    frost-grid-revolve 96s linear infinite,
    frost-grid-glint-shimmer 16s ease-in-out infinite;
}

/* Ambient overlay */
html.frost::after {
  content: "";
  position: fixed;
  inset: -10%;
  z-index: 1;
  pointer-events: none;
  background:
    radial-gradient(
      160% 132% at 50% 50%,
      rgba(0, 0, 0, 0.36) 0%,
      rgba(0, 0, 0, 0.2) 34%,
      transparent 62%,
      rgba(1, 8, 14, 0.26) 100%
    ),
    radial-gradient(
      142% 102% at -4% 54%,
      rgba(118, 185, 0, 0.16) 0%,
      transparent 72%
    ),
    radial-gradient(
      142% 102% at 104% 44%,
      rgba(166, 255, 0, 0.14) 0%,
      transparent 72%
    ),
    linear-gradient(
      190deg,
      rgba(255, 255, 255, 0.015) 0%,
      transparent 46%,
      rgba(0, 0, 0, 0.26) 100%
    ),
    radial-gradient(
      circle,
      rgba(220, 248, 198, 0.14) 0 0.6px,
      transparent 1.4px
    ),
    radial-gradient(
      circle,
      rgba(189, 232, 163, 0.12) 0 0.55px,
      transparent 1.3px
    ),
    radial-gradient(
      circle,
      rgba(214, 242, 190, 0.08) 0 0.5px,
      transparent 1.2px
    );
  background-size:
    100% 100%,
    135% 135%,
    148% 148%,
    100% 100%,
    312px 312px,
    404px 404px,
    256px 256px;
  background-position:
    0 0,
    0 0,
    0 0,
    0 0,
    16px 20px,
    184px 72px,
    68px 208px;
  background-repeat:
    no-repeat, no-repeat, no-repeat, no-repeat, repeat, repeat, repeat;
  opacity: 0.56;
  will-change: transform, filter;
  animation:
    frost-ambient-drift 180s ease-in-out infinite,
    frost-grid-glint-shimmer 14s ease-in-out infinite;
}

/* Frost frame — LD .window primitive adapted for React components */
.frost .frost-frame {
  position: relative;
  isolation: isolate;
  border-radius: 14px;
  background: var(--frost-panel-grid-soft), var(--frost-frame-bg);
  border: 1px solid var(--frost-edge-1);
  box-shadow:
    0 20px 48px rgba(0, 0, 0, 0.55),
    0 0 26px var(--frost-edge-green-glow-soft),
    0 0 0 1px rgba(166, 255, 98, 0.1) inset;
  backdrop-filter: blur(10px) saturate(1.05);
  transition:
    border-color 0.22s ease,
    box-shadow 0.22s ease;
  overflow: hidden;
}

.frost .frost-frame:hover,
.frost .frost-frame:focus-within {
  border-color: var(--frost-edge-strong);
  box-shadow:
    0 22px 54px rgba(0, 0, 0, 0.6),
    0 0 0 1px rgba(166, 255, 98, 0.15) inset,
    0 0 18px var(--frost-edge-green-glow),
    0 0 28px rgba(118, 185, 0, 0.08);
}

/* Frame edge highlight */
.frost .frost-frame::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 2;
  background:
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.14),
      rgba(255, 255, 255, 0.03) 30%,
      transparent 58%
    ),
    radial-gradient(
      120% 88% at 50% -28%,
      rgba(110, 164, 52, 0.2),
      transparent 62%
    );
  opacity: 0.34;
}

/* Frame scan-line overlay */
.frost .frost-frame::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--frost-panel-grid-soft);
  mix-blend-mode: screen;
  opacity: 0.14;
  pointer-events: none;
  z-index: 6;
}

/* Frame inner content well */
.frost .frost-frame-inner {
  position: relative;
  z-index: 4;
  border-radius: 10px;
  background:
    var(--frost-sheen-subtle), var(--frost-panel-atmo-soft),
    var(--frost-panel-grid-soft), rgba(8, 20, 8, 0.66);
  border: 1px solid var(--frost-inner);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 0 0 1px rgba(166, 255, 98, 0.07);
  padding: 10px;
}

/* Frame header bar */
.frost .frost-frame-header {
  position: relative;
  z-index: 5;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--frost-header-border);
  border-radius: 6px;
  background: var(--frost-header-bg);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.06),
    inset 0 0 0 1px rgba(166, 255, 98, 0.08);
}

.frost .frost-frame-header::after {
  content: "";
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: 0;
  height: 1px;
  background: var(--frost-divider-gradient);
  opacity: 0.7;
  pointer-events: none;
}

/* Frame header title */
.frost .frost-frame-title {
  color: rgba(219, 245, 198, 0.95);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 13px;
  white-space: nowrap;
}

/* Frost badge — LD badge styling */
.frost .frost-badge {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid rgba(166, 255, 98, 0.26);
  color: rgba(198, 228, 179, 0.92);
  background: rgba(8, 18, 8, 0.62);
  font-size: 10px;
  letter-spacing: 0.03em;
  padding: 3px 8px;
  white-space: nowrap;
}

.frost .frost-badge.ok {
  color: var(--frost-ok);
  border-color: rgba(186, 255, 132, 0.42);
  box-shadow: 0 0 16px rgba(166, 255, 98, 0.24);
}

.frost .frost-badge.warn {
  color: var(--frost-warn);
  border-color: rgba(255, 206, 130, 0.44);
}

.frost .frost-badge.fail {
  color: var(--frost-fail);
  border-color: rgba(255, 130, 130, 0.48);
}

/* Frost glow wrapper — LD .window-glow */
.frost .frost-glow {
  filter: drop-shadow(0 0 12px var(--frost-glow-1))
    drop-shadow(0 0 24px var(--frost-glow-2))
    drop-shadow(0 0 40px rgba(118, 185, 0, 0.08));
}

/* Frost edge-stroke — border that uses the LD gradient stroke technique */
.frost .frost-edge-stroke {
  position: relative;
}

.frost .frost-edge-stroke::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, var(--frost-edge-1), var(--frost-edge-2));
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  mask-composite: exclude;
  pointer-events: none;
  z-index: 1;
}

/* Frost log row — LD log-row styling */
.frost .frost-log-row {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px;
  align-items: start;
  border-radius: 8px;
  border: 1px solid rgba(166, 255, 98, 0.14);
  background: rgba(8, 18, 8, 0.68);
  padding: 8px 10px;
  font-size: 12px;
  color: rgba(219, 245, 198, 0.92);
}

/* Frost metric bar — LD metric visualization */
.frost .frost-metric-bar {
  height: 8px;
  border-radius: 999px;
  border: 1px solid rgba(166, 255, 98, 0.22);
  background: rgba(6, 14, 7, 0.84);
  overflow: hidden;
}

.frost .frost-metric-fill {
  height: 100%;
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    rgba(118, 185, 0, 0.9),
    rgba(193, 255, 98, 0.92)
  );
  box-shadow: 0 0 12px rgba(166, 255, 98, 0.28);
}

/* Service node — LD svc-node adapted */
.frost .frost-svc-node {
  --ring: rgba(118, 185, 0, 0.42);
  --ring-glow: rgba(118, 185, 0, 0.2);
  --core: rgba(134, 170, 92, 0.62);
  position: relative;
  display: grid;
  justify-items: center;
  gap: 6px;
  text-align: center;
}

.frost .frost-svc-shape {
  width: 42px;
  height: 42px;
  display: grid;
  place-items: center;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: rgba(222, 250, 204, 0.92);
  border-radius: 999px;
  border: 1px solid var(--ring);
  background: radial-gradient(
    circle at 50% 50%,
    rgba(166, 255, 0, 0.1) 0,
    rgba(9, 14, 20, 0.88) 48%,
    rgba(8, 12, 17, 0.96) 100%
  );
  box-shadow:
    inset 0 0 0 1px rgba(166, 255, 98, 0.08),
    inset 0 0 18px rgba(118, 185, 0, 0.1),
    0 0 10px var(--ring-glow);
  transition:
    box-shadow 0.26s ease,
    border-color 0.26s ease,
    transform 0.2s ease;
}

.frost .frost-svc-node.state-live {
  --ring: rgba(166, 255, 0, 0.82);
  --ring-glow: rgba(166, 255, 0, 0.34);
  --core: rgba(193, 255, 98, 0.94);
}

.frost .frost-svc-node.state-live .frost-svc-shape {
  box-shadow:
    inset 0 0 14px rgba(166, 255, 0, 0.26),
    inset 0 0 26px rgba(166, 255, 0, 0.13),
    0 0 12px rgba(166, 255, 0, 0.32),
    0 0 22px rgba(118, 185, 0, 0.18);
  animation: frost-svc-pulse 2.6s ease-in-out infinite;
}

.frost .frost-svc-node.state-down {
  --ring: rgba(255, 97, 112, 0.82);
  --ring-glow: rgba(255, 97, 112, 0.24);
  --core: rgba(255, 102, 120, 0.92);
}

/* ================================================================
   FROST THEME — Animations
   ================================================================ */

@keyframes frost-svc-pulse {
  0%,
  100% {
    transform: scale(1);
    filter: saturate(1);
  }
  48% {
    transform: scale(1.05);
    filter: saturate(1.15);
  }
}

@keyframes frost-ambient-drift {
  0%,
  100% {
    transform: translate3d(-1.1%, -0.7%, 0) scale(1.01);
  }
  50% {
    transform: translate3d(1.1%, 0.8%, 0) scale(1.02);
  }
}

@keyframes frost-grid-revolve {
  0% {
    transform: rotate(0deg) scale(1.015);
  }
  50% {
    transform: rotate(180deg) scale(1.03);
  }
  100% {
    transform: rotate(360deg) scale(1.015);
  }
}

@keyframes frost-grid-glint-shimmer {
  0%,
  100% {
    filter: saturate(1) brightness(1);
  }
  28% {
    filter: saturate(1.04) brightness(1.03);
  }
  52% {
    filter: saturate(0.98) brightness(0.97);
  }
  76% {
    filter: saturate(1.05) brightness(1.04);
  }
}

@keyframes frost-grid-sparkle-twinkle {
  0%,
  100% {
    opacity: 0.16;
    filter: saturate(0.94) brightness(0.92);
  }
  24% {
    opacity: 0.24;
    filter: saturate(1.08) brightness(1.12);
  }
  48% {
    opacity: 0.14;
    filter: saturate(0.9) brightness(0.88);
  }
  68% {
    opacity: 0.22;
    filter: saturate(1.04) brightness(1.08);
  }
  84% {
    opacity: 0.18;
    filter: saturate(0.98) brightness(0.96);
  }
}

@keyframes frost-grid-pulse-drift {
  0%,
  10% {
    background-position:
      0 0,
      0 0,
      -320px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -320px 264px,
      352px -320px,
      -320px 528px,
      704px -320px,
      -320px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -320px 264px,
      352px -320px,
      -320px 528px,
      704px -320px;
  }
  16% {
    background-position:
      0 0,
      0 0,
      -240px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -280px 264px,
      352px -320px,
      -320px 528px,
      704px -320px,
      -240px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -280px 264px,
      352px -320px,
      -320px 528px,
      704px -320px;
  }
  28% {
    background-position:
      0 0,
      0 0,
      calc(100% + 240px) 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      calc(100% + 280px) 264px,
      352px -320px,
      -320px 528px,
      704px -320px,
      calc(100% + 240px) 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      calc(100% + 280px) 264px,
      352px -320px,
      -320px 528px,
      704px -320px;
  }
  34% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      -320px 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      -320px 528px,
      704px -320px;
  }
  38% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px -320px,
      -220px 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      -260px 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px -320px,
      -220px 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      -260px 528px,
      704px -320px;
  }
  50% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px -320px,
      calc(100% + 220px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      calc(100% + 260px) 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px -320px,
      calc(100% + 220px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      calc(100% + 260px) 528px,
      704px -320px;
  }
  56% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px -320px,
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      calc(100% + 320px) 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px -320px,
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -320px,
      calc(100% + 320px) 528px,
      704px -320px;
  }
  60% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px -240px,
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -260px,
      calc(100% + 320px) 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px -240px,
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px -260px,
      calc(100% + 320px) 528px,
      704px -320px;
  }
  72% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px calc(100% + 240px),
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px calc(100% + 260px),
      calc(100% + 320px) 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px calc(100% + 240px),
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px calc(100% + 260px),
      calc(100% + 320px) 528px,
      704px -320px;
  }
  78% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px -320px,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px -320px,
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px -320px;
  }
  82% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px -220px,
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px -240px,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px -220px,
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px -240px;
  }
  94% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px calc(100% + 220px),
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px calc(100% + 240px),
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px calc(100% + 220px),
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px calc(100% + 240px);
  }
  100% {
    background-position:
      0 0,
      0 0,
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px calc(100% + 320px),
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px calc(100% + 320px),
      calc(100% + 320px) 176px,
      264px calc(100% + 320px),
      calc(100% + 320px) 440px,
      616px calc(100% + 320px),
      calc(100% + 320px) 264px,
      352px calc(100% + 320px),
      calc(100% + 320px) 528px,
      704px calc(100% + 320px);
  }
}

@keyframes frost-settings-energy-drift {
  0%,
  12% {
    background-position:
      -320px 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      -320px 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      -117px 115px,
      237px -117px,
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  20% {
    background-position:
      -220px 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      -220px 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      -17px 115px,
      237px -117px,
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  32% {
    background-position:
      calc(100% + 220px) 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 220px) 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 423px) 115px,
      237px -117px,
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  38% {
    background-position:
      calc(100% + 320px) 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px -320px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px -117px,
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  44% {
    background-position:
      calc(100% + 320px) 122px,
      244px -220px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px -220px,
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px -17px,
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  56% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 220px),
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px calc(100% + 220px),
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px calc(100% + 423px),
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  62% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      calc(100% + 320px) 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      calc(100% + 320px) 360px,
      603px calc(100% + 320px);
  }
  70% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      calc(100% + 200px) 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      calc(100% + 200px) 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      calc(100% + 200px) 360px,
      603px calc(100% + 320px);
  }
  82% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -220px 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -220px 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      -220px 360px,
      603px calc(100% + 320px);
  }
  88% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px calc(100% + 320px),
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px calc(100% + 320px),
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      -320px 360px,
      603px calc(100% + 320px);
  }
  94% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px calc(100% + 200px),
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px calc(100% + 200px),
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      -320px 360px,
      603px calc(100% + 200px);
  }
  100% {
    background-position:
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px -220px,
      calc(100% + 320px) 122px,
      244px calc(100% + 320px),
      -320px 366px,
      610px -220px,
      calc(100% + 523px) 115px,
      237px calc(100% + 523px),
      -320px 360px,
      603px -220px;
  }
}

@keyframes frost-settings-energy-travel-x {
  from {
    left: var(
      --frost-energy-start-x,
      calc(var(--ncc-main-lane-travel-padding, 320px) * -1)
    );
  }
  to {
    left: var(
      --frost-energy-end-x,
      calc(100% + var(--ncc-main-lane-travel-padding, 320px))
    );
  }
}

@keyframes frost-settings-energy-travel-y {
  from {
    top: var(
      --frost-energy-start-y,
      calc(var(--ncc-main-lane-travel-padding, 320px) * -1)
    );
  }
  to {
    top: var(
      --frost-energy-end-y,
      calc(100% + var(--ncc-main-lane-travel-padding, 320px))
    );
  }
}

@keyframes frost-breath {
  0%,
  100% {
    filter: drop-shadow(0 0 8px rgba(166, 255, 0, 0.8))
      drop-shadow(0 0 20px rgba(166, 255, 0, 0.5))
      drop-shadow(0 0 40px rgba(118, 185, 0, 0.25));
    transform: scale(1);
  }
  50% {
    filter: drop-shadow(0 0 12px rgba(166, 255, 0, 0.9))
      drop-shadow(0 0 28px rgba(166, 255, 0, 0.6))
      drop-shadow(0 0 52px rgba(118, 185, 0, 0.32));
    transform: scale(1.03);
  }
}

@keyframes frost-scan-sweep {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100vh);
  }
}

@keyframes frost-glow-pulse {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

@keyframes frost-edge-shimmer {
  0% {
    background-position: 200% center;
  }
  100% {
    background-position: -200% center;
  }
}

/* Utility animation classes (frost-only) */
.frost .frost-animate-breath {
  animation: frost-breath 3.5s ease-in-out infinite;
}

.frost .frost-animate-glow-pulse {
  animation: frost-glow-pulse 2.4s ease-in-out infinite;
}

.frost .frost-animate-scan-sweep {
  animation: frost-scan-sweep 4s linear infinite;
}

/* Reduced motion: keep frost clean & stable */
@media (prefers-reduced-motion: reduce) {
  html.frost::before,
  html.frost::after {
    animation: none !important;
  }

  html.frost::before {
    background-position:
      0 0,
      0 0,
      -320px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -320px 264px,
      352px -320px,
      -320px 528px,
      704px -320px,
      -320px 176px,
      264px -320px,
      -320px 440px,
      616px -320px,
      -320px 264px,
      352px -320px,
      -320px 528px,
      704px -320px !important;
  }

  html.frost::after {
    transform: none !important;
    filter: none !important;
  }

  .frost .settings-page-energy-overlay,
  .frost .settings-page-energy-pulse {
    animation: none !important;
    display: none !important;
  }

  .frost .sessions-page-shell::after,
  .frost .settings-page-shell::after {
    animation: none !important;
    opacity: 0.14 !important;
    filter: none !important;
  }

  .frost .frost-animate-breath,
  .frost .frost-animate-glow-pulse,
  .frost .frost-animate-scan-sweep,
  .frost .frost-svc-node.state-live .frost-svc-shape {
    animation: none !important;
  }

  .frost .frost-frame,
  .frost .floating-panel,
  .frost .floating-panel-glass,
  .frost .modern-nav,
  .frost .voice-input-panel,
  .frost .text-input-panel,
  .frost .progress-panel,
  .frost .modern-panel,
  .frost .modern-panel-subtle,
  .frost .modern-panel-strong,
  .frost .modern-card,
  .frost .modern-input,
  .frost .modern-interactive,
  .frost .modern-button,
  .frost .modern-shine::after,
  .frost .frost-edge-glow::after {
    transition: none !important;
  }

  .frost .modern-interactive:hover,
  .frost .modern-button:hover {
    transform: none !important;
  }
}
